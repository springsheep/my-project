import{g as Pe,d as D,n as B,m as I,c as U,a as M,e as de,b as et,f as a,h as ee,w as K,B as tt,I as q,p as oe,i as nt,u as ce,t as le,j as V,k as at,l as lt,s as it,o as rt,q as ot,r as ct,v as L,x as st,y as Ie,z as se,A as ve,C as O,D as Be,E as ut,F as dt,G as Ee,H as ft,J as ye,K as p,L as ue,M as gt,N as mt,O as vt,T as Ve,P as bt,Q as ht,R as xt,S as _t,U as yt,V as ze,W as St,X as wt,Y as Se,Z as kt,_ as fe,$ as x,a0 as ge,a1 as F,a2 as Ct,a3 as R,a4 as we,a5 as Tt,a6 as Lt,a7 as ne,a8 as Pt}from"./index-BgjFc_bq.js";import{u as It,E as Bt}from"./index-CI4N7lbR.js";import{GYOrderPageGet as Et}from"./btp-atb_l9Qc.js";import"./api-DpD0Hf8n.js";const $e={to:[String,Object],url:String,replace:Boolean};function Vt({to:e,url:t,replace:l,$router:u}){e&&u?u[l?"replace":"push"](e):t&&(l?location.replace(t):location.href=t)}function Ae(){const e=Pe().proxy;return()=>Vt(e)}const[zt,ae]=U("loading"),$t=Array(12).fill(null).map((e,t)=>a("i",{class:ae("line",String(t+1))},null)),At=a("svg",{class:ae("circular"),viewBox:"25 25 50 50"},[a("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),Nt={size:B,type:I("circular"),color:String,vertical:Boolean,textSize:B,textColor:String};var Rt=D({name:zt,props:Nt,setup(e,{slots:t}){const l=M(()=>de({color:e.color},et(e.size))),u=()=>{const i=e.type==="spinner"?$t:At;return a("span",{class:ae("spinner",e.type),style:l.value},[t.icon?t.icon():i])},c=()=>{var i;if(t.default)return a("span",{class:ae("text"),style:{fontSize:ee(e.textSize),color:(i=e.textColor)!=null?i:e.color}},[t.default()])};return()=>{const{type:i,vertical:b}=e;return a("div",{class:ae([i,{vertical:b}]),"aria-live":"polite","aria-busy":!0},[u(),c()])}}});const Ne=K(Rt),[jt,J]=U("button"),Mt=de({},$e,{tag:I("button"),text:String,icon:String,type:I("default"),size:I("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:I("button"),loadingSize:B,loadingText:String,loadingType:String,iconPosition:I("left")});var Ot=D({name:jt,props:Mt,emits:["click"],setup(e,{emit:t,slots:l}){const u=Ae(),c=()=>l.loading?l.loading():a(Ne,{size:e.loadingSize,type:e.loadingType,class:J("loading")},null),i=()=>{if(e.loading)return c();if(l.icon)return a("div",{class:J("icon")},[l.icon()]);if(e.icon)return a(q,{name:e.icon,class:J("icon"),classPrefix:e.iconPrefix},null)},b=()=>{let o;if(e.loading?o=e.loadingText:o=l.default?l.default():e.text,o)return a("span",{class:J("text")},[o])},k=()=>{const{color:o,plain:d}=e;if(o){const _={color:d?o:"white"};return d||(_.background=o),o.includes("gradient")?_.border=0:_.borderColor=o,_}},f=o=>{e.loading?oe(o):e.disabled||(t("click",o),u())};return()=>{const{tag:o,type:d,size:_,block:T,round:C,plain:g,square:r,loading:s,disabled:h,hairline:S,nativeType:W,iconPosition:$}=e,te=[J([d,_,{plain:g,block:T,round:C,square:r,loading:s,disabled:h,hairline:S}]),{[tt]:S}];return a(o,{type:W,class:te,style:k(),disabled:h,onClick:f},{default:()=>[a("div",{class:J("content")},[$==="left"&&i(),b(),$==="right"&&i()])]})}}});const Dt=K(Ot),Ft=Symbol(),qt=()=>nt(Ft,null),[Ut,Q]=U("cell"),Re={tag:I("div"),icon:String,size:String,title:B,value:B,label:B,center:Boolean,isLink:Boolean,border:le,iconPrefix:String,valueClass:ce,labelClass:ce,titleClass:ce,titleStyle:null,arrowDirection:String,required:{type:[Boolean,String],default:null},clickable:{type:Boolean,default:null}},Kt=de({},Re,$e);var Wt=D({name:Ut,props:Kt,setup(e,{slots:t}){const l=Ae(),u=()=>{if(t.label||V(e.label))return a("div",{class:[Q("label"),e.labelClass]},[t.label?t.label():e.label])},c=()=>{var f;if(t.title||V(e.title)){const o=(f=t.title)==null?void 0:f.call(t);return Array.isArray(o)&&o.length===0?void 0:a("div",{class:[Q("title"),e.titleClass],style:e.titleStyle},[o||a("span",null,[e.title]),u()])}},i=()=>{const f=t.value||t.default;if(f||V(e.value))return a("div",{class:[Q("value"),e.valueClass]},[f?f():a("span",null,[e.value])])},b=()=>{if(t.icon)return t.icon();if(e.icon)return a(q,{name:e.icon,class:Q("left-icon"),classPrefix:e.iconPrefix},null)},k=()=>{if(t["right-icon"])return t["right-icon"]();if(e.isLink){const f=e.arrowDirection&&e.arrowDirection!=="right"?"arrow-".concat(e.arrowDirection):"arrow";return a(q,{name:f,class:Q("right-icon")},null)}};return()=>{var f;const{tag:o,size:d,center:_,border:T,isLink:C,required:g}=e,r=(f=e.clickable)!=null?f:C,s={center:_,required:!!g,clickable:r,borderless:!T};return d&&(s[d]=!!d),a(o,{class:Q(s),role:r?"button":void 0,tabindex:r?0:void 0,onClick:l},{default:()=>{var h;return[b(),c(),i(),k(),(h=t.extra)==null?void 0:h.call(t)]}})}}});const Ht=K(Wt);function je(e){return Array.isArray(e)?!e.length:e===0?!1:!e}function Yt(e,t){if(je(e)){if(t.required)return!1;if(t.validateEmpty===!1)return!0}return!(t.pattern&&!t.pattern.test(String(e)))}function Gt(e,t){return new Promise(l=>{const u=t.validator(e,t);if(ot(u)){u.then(l);return}l(u)})}function ke(e,t){const{message:l}=t;return rt(l)?l(e,t):l||""}function Jt({target:e}){e.composing=!0}function Ce({target:e}){e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}function Qt(e,t){const l=at();e.style.height="auto";let u=e.scrollHeight;if(lt(t)){const{maxHeight:c,minHeight:i}=t;c!==void 0&&(u=Math.min(u,c)),i!==void 0&&(u=Math.max(u,i))}u&&(e.style.height="".concat(u,"px"),it(l))}function Xt(e,t){return e==="number"&&(e="text",t!=null||(t="decimal")),e==="digit"&&(e="tel",t!=null||(t="numeric")),{type:e,inputmode:t}}function j(e){return[...e].length}function me(e,t){return[...e].slice(0,t).join("")}const[Zt,z]=U("field"),pt={id:String,name:String,leftIcon:String,rightIcon:String,autofocus:Boolean,clearable:Boolean,maxlength:B,max:Number,min:Number,formatter:Function,clearIcon:I("clear"),modelValue:Ee(""),inputAlign:String,placeholder:String,autocomplete:String,autocapitalize:String,autocorrect:String,errorMessage:String,enterkeyhint:String,clearTrigger:I("focus"),formatTrigger:I("onChange"),spellcheck:{type:Boolean,default:null},error:{type:Boolean,default:null},disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null},inputmode:String},en=de({},Re,pt,{rows:B,type:I("text"),rules:Array,autosize:[Boolean,Object],labelWidth:B,labelClass:ce,labelAlign:String,showWordLimit:Boolean,errorMessageAlign:String,colon:{type:Boolean,default:null}});var tn=D({name:Zt,props:en,emits:["blur","focus","clear","keypress","clickInput","endValidate","startValidate","clickLeftIcon","clickRightIcon","update:modelValue"],setup(e,{emit:t,slots:l}){const u=It(),c=ct({status:"unvalidated",focused:!1,validateMessage:""}),i=L(),b=L(),k=L(),{parent:f}=st(ft),o=()=>{var n;return String((n=e.modelValue)!=null?n:"")},d=n=>{if(V(e[n]))return e[n];if(f&&V(f.props[n]))return f.props[n]},_=M(()=>{const n=d("readonly");if(e.clearable&&!n){const m=o()!=="",v=e.clearTrigger==="always"||e.clearTrigger==="focus"&&c.focused;return m&&v}return!1}),T=M(()=>k.value&&l.input?k.value():e.modelValue),C=M(()=>{var n;const m=d("required");return m==="auto"?(n=e.rules)==null?void 0:n.some(v=>v.required):m}),g=n=>n.reduce((m,v)=>m.then(()=>{if(c.status==="failed")return;let{value:w}=T;if(v.formatter&&(w=v.formatter(w,v)),!Yt(w,v)){c.status="failed",c.validateMessage=ke(w,v);return}if(v.validator)return je(w)&&v.validateEmpty===!1?void 0:Gt(w,v).then(P=>{P&&typeof P=="string"?(c.status="failed",c.validateMessage=P):P===!1&&(c.status="failed",c.validateMessage=ke(w,v))})}),Promise.resolve()),r=()=>{c.status="unvalidated",c.validateMessage=""},s=()=>t("endValidate",{status:c.status,message:c.validateMessage}),h=(n=e.rules)=>new Promise(m=>{r(),n?(t("startValidate"),g(n).then(()=>{c.status==="failed"?(m({name:e.name,message:c.validateMessage}),s()):(c.status="passed",m(),s())})):m()}),S=n=>{if(f&&e.rules){const{validateTrigger:m}=f.props,v=ye(m).includes(n),w=e.rules.filter(P=>P.trigger?ye(P.trigger).includes(n):v);w.length&&h(w)}},W=n=>{var m;const{maxlength:v}=e;if(V(v)&&j(n)>+v){const w=o();if(w&&j(w)===+v)return w;const P=(m=i.value)==null?void 0:m.selectionEnd;if(c.focused&&P){const Y=[...n],G=Y.length-+v;return Y.splice(P-G,G),Y.join("")}return me(n,+v)}return n},$=(n,m="onChange")=>{var v,w;const P=n;n=W(n);const Y=j(P)-j(n);if(e.type==="number"||e.type==="digit"){const N=e.type==="number";if(n=ut(n,N,N),m==="onBlur"&&n!==""&&(e.min!==void 0||e.max!==void 0)){const A=dt(+n,(v=e.min)!=null?v:-1/0,(w=e.max)!=null?w:1/0);+n!==A&&(n=A.toString())}}let G=0;if(e.formatter&&m===e.formatTrigger){const{formatter:N,maxlength:A}=e;if(n=N(n),V(A)&&j(n)>+A&&(n=me(n,+A)),i.value&&c.focused){const{selectionEnd:re}=i.value,_e=me(P,re);G=j(N(_e))-j(_e)}}if(i.value&&i.value.value!==n)if(c.focused){let{selectionStart:N,selectionEnd:A}=i.value;if(i.value.value=n,V(N)&&V(A)){const re=j(n);Y?(N-=Y,A-=Y):G&&(N+=G,A+=G),i.value.setSelectionRange(Math.min(N,re),Math.min(A,re))}}else i.value.value=n;n!==e.modelValue&&t("update:modelValue",n)},te=n=>{n.target.composing||$(n.target.value)},y=()=>{var n;return(n=i.value)==null?void 0:n.blur()},ie=()=>{var n;return(n=i.value)==null?void 0:n.focus()},H=()=>{const n=i.value;e.type==="textarea"&&e.autosize&&n&&Qt(n,e.autosize)},Oe=n=>{c.focused=!0,t("focus",n),O(H),d("readonly")&&y()},De=n=>{c.focused=!1,$(o(),"onBlur"),t("blur",n),!d("readonly")&&(S("onBlur"),O(H),gt())},be=n=>t("clickInput",n),Fe=n=>t("clickLeftIcon",n),qe=n=>t("clickRightIcon",n),Ue=n=>{oe(n),t("update:modelValue",""),t("clear",n)},he=M(()=>{if(typeof e.error=="boolean")return e.error;if(f&&f.props.showError&&c.status==="failed")return!0}),Ke=M(()=>{const n=d("labelWidth"),m=d("labelAlign");if(n&&m!=="top")return{width:ee(n)}}),We=n=>{n.keyCode===13&&(!(f&&f.props.submitOnEnter)&&e.type!=="textarea"&&oe(n),e.type==="search"&&y()),t("keypress",n)},xe=()=>e.id||"".concat(u,"-input"),He=()=>c.status,Ye=()=>{const n=z("control",[d("inputAlign"),{error:he.value,custom:!!l.input,"min-height":e.type==="textarea"&&!e.autosize}]);if(l.input)return a("div",{class:n,onClick:be},[l.input()]);const m={id:xe(),ref:i,name:e.name,rows:e.rows!==void 0?+e.rows:void 0,class:n,disabled:d("disabled"),readonly:d("readonly"),autofocus:e.autofocus,placeholder:e.placeholder,autocomplete:e.autocomplete,autocapitalize:e.autocapitalize,autocorrect:e.autocorrect,enterkeyhint:e.enterkeyhint,spellcheck:e.spellcheck,"aria-labelledby":e.label?"".concat(u,"-label"):void 0,"data-allow-mismatch":"attribute",onBlur:De,onFocus:Oe,onInput:te,onClick:be,onChange:Ce,onKeypress:We,onCompositionend:Ce,onCompositionstart:Jt};return e.type==="textarea"?a("textarea",ue(m,{inputmode:e.inputmode}),null):a("input",ue(Xt(e.type,e.inputmode),m),null)},Ge=()=>{const n=l["left-icon"];if(e.leftIcon||n)return a("div",{class:z("left-icon"),onClick:Fe},[n?n():a(q,{name:e.leftIcon,classPrefix:e.iconPrefix},null)])},Je=()=>{const n=l["right-icon"];if(e.rightIcon||n)return a("div",{class:z("right-icon"),onClick:qe},[n?n():a(q,{name:e.rightIcon,classPrefix:e.iconPrefix},null)])},Qe=()=>{if(e.showWordLimit&&e.maxlength){const n=j(o());return a("div",{class:z("word-limit")},[a("span",{class:z("word-num")},[n]),p("/"),e.maxlength])}},Xe=()=>{if(f&&f.props.showErrorMessage===!1)return;const n=e.errorMessage||c.validateMessage;if(n){const m=l["error-message"],v=d("errorMessageAlign");return a("div",{class:z("error-message",v)},[m?m({message:n}):n])}},Ze=()=>{const n=d("labelWidth"),m=d("labelAlign"),v=d("colon")?":":"";if(l.label)return[l.label(),v];if(e.label)return a("label",{id:"".concat(u,"-label"),for:l.input?void 0:xe(),"data-allow-mismatch":"attribute",onClick:w=>{oe(w),ie()},style:m==="top"&&n?{width:ee(n)}:void 0},[e.label+v])},pe=()=>[a("div",{class:z("body")},[Ye(),_.value&&a(q,{ref:b,name:e.clearIcon,class:z("clear")},null),Je(),l.button&&a("div",{class:z("button")},[l.button()])]),Qe(),Xe()];return Ie({blur:y,focus:ie,validate:h,formValue:T,resetValidation:r,getValidationStatus:He}),mt(vt,{customValue:k,resetValidation:r,validateWithTrigger:S}),se(()=>e.modelValue,()=>{$(o()),r(),S("onChange"),O(H)}),ve(()=>{$(o(),e.formatTrigger),O(H)}),Be("touchstart",Ue,{target:M(()=>{var n;return(n=b.value)==null?void 0:n.$el})}),()=>{const n=d("disabled"),m=d("labelAlign"),v=Ge(),w=()=>{const P=Ze();return m==="top"?[v,P].filter(Boolean):P||[]};return a(Ht,{size:e.size,class:z({error:he.value,disabled:n,["label-".concat(m)]:m}),center:e.center,border:e.border,isLink:e.isLink,clickable:e.clickable,titleStyle:Ke.value,valueClass:z("value"),titleClass:[z("label",[m,{required:C.value}]),e.labelClass],arrowDirection:e.arrowDirection},{icon:v&&m!=="top"?()=>v:null,title:w,value:pe,extra:l.extra})}}});const nn=K(tn),[an,Te]=U("tag"),ln={size:String,mark:Boolean,show:le,type:I("default"),color:String,plain:Boolean,round:Boolean,textColor:String,closeable:Boolean};var rn=D({name:an,props:ln,emits:["close"],setup(e,{slots:t,emit:l}){const u=b=>{b.stopPropagation(),l("close",b)},c=()=>e.plain?{color:e.textColor||e.color,borderColor:e.color}:{color:e.textColor,background:e.color},i=()=>{var b;const{type:k,mark:f,plain:o,round:d,size:_,closeable:T}=e,C={mark:f,plain:o,round:d};_&&(C[_]=_);const g=T&&a(q,{name:"cross",class:[Te("close"),bt],onClick:u},null);return a("span",{style:c(),class:Te([C,k])},[(b=t.default)==null?void 0:b.call(t),g])};return()=>a(Ve,{name:e.closeable?"van-fade":void 0},{default:()=>[e.show?i():null]})}});const Me=K(rn),[on,X]=U("image"),cn={src:String,alt:String,fit:String,position:String,round:Boolean,block:Boolean,width:B,height:B,radius:B,lazyLoad:Boolean,iconSize:B,showError:le,errorIcon:I("photo-fail"),iconPrefix:String,showLoading:le,loadingIcon:I("photo"),crossorigin:String,referrerpolicy:String,decoding:String};var sn=D({name:on,props:cn,emits:["load","error"],setup(e,{emit:t,slots:l}){const u=L(!1),c=L(!0),i=L(),{$Lazyload:b}=Pe().proxy,k=M(()=>{const s={width:ee(e.width),height:ee(e.height)};return V(e.radius)&&(s.overflow="hidden",s.borderRadius=ee(e.radius)),s});se(()=>e.src,()=>{u.value=!1,c.value=!0});const f=s=>{c.value&&(c.value=!1,t("load",s))},o=()=>{const s=new Event("load");Object.defineProperty(s,"target",{value:i.value,enumerable:!0}),f(s)},d=s=>{u.value=!0,c.value=!1,t("error",s)},_=(s,h,S)=>S?S():a(q,{name:s,size:e.iconSize,class:h,classPrefix:e.iconPrefix},null),T=()=>{if(c.value&&e.showLoading)return a("div",{class:X("loading")},[_(e.loadingIcon,X("loading-icon"),l.loading)]);if(u.value&&e.showError)return a("div",{class:X("error")},[_(e.errorIcon,X("error-icon"),l.error)])},C=()=>{if(u.value||!e.src)return;const s={alt:e.alt,class:X("img"),decoding:e.decoding,style:{objectFit:e.fit,objectPosition:e.position},crossorigin:e.crossorigin,referrerpolicy:e.referrerpolicy};return e.lazyLoad?_t(a("img",ue({ref:i},s),null),[[yt("lazy"),e.src]]):a("img",ue({ref:i,src:e.src,onLoad:f,onError:d},s),null)},g=({el:s})=>{const h=()=>{s===i.value&&c.value&&o()};i.value?h():O(h)},r=({el:s})=>{s===i.value&&!u.value&&d()};return b&&ht&&(b.$on("loaded",g),b.$on("error",r),xt(()=>{b.$off("loaded",g),b.$off("error",r)})),ve(()=>{O(()=>{var s;(s=i.value)!=null&&s.complete&&!e.lazyLoad&&o()})}),()=>{var s;return a("div",{class:X({round:e.round,block:e.block}),style:k.value},[C(),T(),(s=l.default)==null?void 0:s.call(l)])}}});const un=K(sn),[dn,E]=U("card"),fn={tag:String,num:B,desc:String,thumb:String,title:String,price:B,centered:Boolean,lazyLoad:Boolean,currency:I("¥"),thumbLink:String,originPrice:B};var gn=D({name:dn,props:fn,emits:["clickThumb"],setup(e,{slots:t,emit:l}){const u=()=>{if(t.title)return t.title();if(e.title)return a("div",{class:[E("title"),"van-multi-ellipsis--l2"]},[e.title])},c=()=>{if(t.tag||e.tag)return a("div",{class:E("tag")},[t.tag?t.tag():a(Me,{mark:!0,type:"primary"},{default:()=>[e.tag]})])},i=()=>t.thumb?t.thumb():a(un,{src:e.thumb,fit:"cover",width:"100%",height:"100%",lazyLoad:e.lazyLoad},null),b=()=>{if(t.thumb||e.thumb)return a("a",{href:e.thumbLink,class:E("thumb"),onClick:o=>l("clickThumb",o)},[i(),c()])},k=()=>{if(t.desc)return t.desc();if(e.desc)return a("div",{class:[E("desc"),"van-ellipsis"]},[e.desc])},f=()=>{const o=e.price.toString().split(".");return a("div",null,[a("span",{class:E("price-currency")},[e.currency]),a("span",{class:E("price-integer")},[o[0]]),o.length>1&&a(ze,null,[p("."),a("span",{class:E("price-decimal")},[o[1]])])])};return()=>{var o,d,_;const T=t.num||V(e.num),C=t.price||V(e.price),g=t["origin-price"]||V(e.originPrice),r=T||C||g||t.bottom,s=C&&a("div",{class:E("price")},[t.price?t.price():f()]),h=g&&a("div",{class:E("origin-price")},[t["origin-price"]?t["origin-price"]():"".concat(e.currency," ").concat(e.originPrice)]),S=T&&a("div",{class:E("num")},[t.num?t.num():"x".concat(e.num)]),W=t.footer&&a("div",{class:E("footer")},[t.footer()]),$=r&&a("div",{class:E("bottom")},[(o=t["price-top"])==null?void 0:o.call(t),s,h,S,(d=t.bottom)==null?void 0:d.call(t)]);return a("div",{class:E()},[a("div",{class:E("header")},[b(),a("div",{class:E("content",{centered:e.centered})},[a("div",null,[u(),k(),(_=t.tags)==null?void 0:_.call(t)]),$])]),W])}}});const mn=K(gn),[vn,Z,bn]=U("list"),hn={error:Boolean,offset:Ee(300),loading:Boolean,disabled:Boolean,finished:Boolean,scroller:Object,errorText:String,direction:I("down"),loadingText:String,finishedText:String,immediateCheck:le};var xn=D({name:vn,props:hn,emits:["load","update:error","update:loading"],setup(e,{emit:t,slots:l}){const u=L(e.loading),c=L(),i=L(),b=qt(),k=St(c),f=M(()=>e.scroller||k.value),o=()=>{O(()=>{if(u.value||e.finished||e.disabled||e.error||(b==null?void 0:b.value)===!1)return;const{direction:g}=e,r=+e.offset,s=Se(f);if(!s.height||kt(c))return;let h=!1;const S=Se(i);g==="up"?h=s.top-S.top<=r:h=S.bottom-s.bottom<=r,h&&(u.value=!0,t("update:loading",!0),t("load"))})},d=()=>{if(e.finished){const g=l.finished?l.finished():e.finishedText;if(g)return a("div",{class:Z("finished-text")},[g])}},_=()=>{t("update:error",!1),o()},T=()=>{if(e.error){const g=l.error?l.error():e.errorText;if(g)return a("div",{role:"button",class:Z("error-text"),tabindex:0,onClick:_},[g])}},C=()=>{if(u.value&&!e.finished&&!e.disabled)return a("div",{class:Z("loading")},[l.loading?l.loading():a(Ne,{class:Z("loading-icon")},{default:()=>[e.loadingText||bn("loading")]})])};return se(()=>[e.loading,e.finished,e.error],o),b&&se(b,g=>{g&&o()}),wt(()=>{u.value=e.loading}),ve(()=>{e.immediateCheck&&o()}),Ie({check:o}),Be("scroll",o,{target:f,passive:!0}),()=>{var g;const r=(g=l.default)==null?void 0:g.call(l),s=a("div",{ref:i,class:Z("placeholder")},null);return a("div",{ref:c,role:"feed",class:Z(),"aria-busy":u.value},[e.direction==="down"?r:s,C(),d(),T(),e.direction==="up"?r:s])}}});const _n=K(xn),yn={class:"h-full flex flex-col bg-[#f7f8fa]"},Sn={class:"sticky top-0 z-10 bg-white p-1 flex flex-col items-stretch shadow-[0_2px_8px_0_rgba(0,0,0,0.03)] border-b border-[#f0f0f0]"},wn={class:"flex items-center gap-2.5 mb-2"},kn={key:0,class:"w-full flex flex-col"},Cn={class:"flex items-center mt-0.5 justify-end"},Tn={class:"flex items-center justify-between"},Ln={class:"text-[16px] font-semibold mr-2 leading-5 text-[#222] flex-1 whitespace-normal break-all"},Pn={class:"text-[#666] mb-2 text-[13px]"},In={class:"block break-all mb-1"},Bn={class:"inline-block text-[#333] break-all"},En={class:"flex mb-1"},Vn={class:"text-[#333] flex-1"},zn={class:"flex mb-1"},$n={class:"text-[#333] flex-1"},An={class:"flex mb-1"},Nn={class:"text-[#333] flex-1"},Rn={class:"flex mb-1"},jn={class:"text-[#333] flex-1"},Mn={class:"flex mb-1"},On={class:"text-[#333] flex-1"},Le=5,Dn=D({name:"FundContent",__name:"index",setup(e){const t=L([]),l=L(!1),u=L(!1),c=L(1),i=L({projectName:"",projectOrderNo:"",consigneeAddress:""}),b=L(!1);function k(g){if(!g)return"-";const r=new Date(g),s=r.getFullYear(),h=String(r.getMonth()+1).padStart(2,"0"),S=String(r.getDate()).padStart(2,"0");return"".concat(s,"-").concat(h,"-").concat(S)}const f=L(null),o=L(null);Lt();const d=async()=>{c.value=1,u.value=!1,t.value=[],l.value=!1,await O(),C()},_=()=>{i.value.projectName="",i.value.projectOrderNo="",i.value.consigneeAddress="",d()},T=async()=>{var g;l.value=!0;try{const r={projectName:i.value.projectName?i.value.projectName:void 0,projectOrderNo:i.value.projectOrderNo?i.value.projectOrderNo:void 0,consigneeAddress:i.value.consigneeAddress?i.value.consigneeAddress:void 0,currentPage:c.value,pageSize:Le},s=await Et(r),S=((g=s==null?void 0:s.data)!=null?g:{}).orderList||[];c.value===1?t.value=S:t.value=t.value.concat(S),!S.length||S.length<Le?u.value=!0:c.value++}catch(r){console.log(r),u.value=!0}finally{l.value=!1,await O(),C()}};function C(){const g=f.value;if(g){const r=new Event("scroll",{bubbles:!0});g.dispatchEvent(r)}o.value&&typeof o.value.check=="function"&&o.value.check()}return(g,r)=>{const s=nn,h=Dt,S=Me,W=mn,$=Bt,te=_n;return ne(),fe("div",yn,[x("div",Sn,[x("div",wn,[a(s,{modelValue:i.value.projectOrderNo,"onUpdate:modelValue":r[0]||(r[0]=y=>i.value.projectOrderNo=y),label:"项目号",placeholder:"请输入项目号",clearable:"",onKeyup:ge(d,["enter"]),class:"flex-1 mb-0 [&_.van-field__label]:min-w-[60px] [&_.van-field__label]:text-[#666] [&_.van-field__label]:text-[13px] [&_.van-field__control]:text-[13px]"},null,8,["modelValue"])]),a(Ve,{name:"fade"},{default:F(()=>[b.value?(ne(),fe("div",kn,[a(s,{modelValue:i.value.projectName,"onUpdate:modelValue":r[1]||(r[1]=y=>i.value.projectName=y),label:"项目名称",placeholder:"请输入项目名称",clearable:"",onKeyup:ge(d,["enter"]),class:"w-full mb-2 [&_.van-field__label]:min-w-[60px] [&_.van-field__label]:text-[#666] [&_.van-field__label]:text-[13px] [&_.van-field__control]:text-[13px]"},null,8,["modelValue"]),a(s,{modelValue:i.value.consigneeAddress,"onUpdate:modelValue":r[2]||(r[2]=y=>i.value.consigneeAddress=y),label:"收货地址",placeholder:"请输入收货地址",clearable:"",onKeyup:ge(d,["enter"]),class:"w-full mb-2 [&_.van-field__label]:min-w-[60px] [&_.van-field__label]:text-[#666] [&_.van-field__label]:text-[13px] [&_.van-field__control]:text-[13px]"},null,8,["modelValue"])])):Ct("",!0)]),_:1}),x("div",Cn,[a(h,{type:"primary",size:"small",onClick:d,class:"mr-2 min-w-[56px] text-[13px] px-2 mb-0"},{default:F(()=>r[5]||(r[5]=[p(" 查询 ",-1)])),_:1,__:[5]}),a(h,{size:"small",onClick:_,class:"mr-2 min-w-[56px] text-[13px] px-2 mb-0"},{default:F(()=>r[6]||(r[6]=[p(" 重置 ",-1)])),_:1,__:[6]}),a(h,{size:"small",class:"min-w-[48px] text-[13px] text-[#1989fa] border-none bg-transparent shadow-none px-1 filter-btn",onClick:r[3]||(r[3]=y=>b.value=!b.value),plain:""},{default:F(()=>[p(R(b.value?"收起":"展开"),1)]),_:1})])]),x("div",{class:"flex-1 overflow-y-auto p-2 min-h-0",ref_key:"scrollContentRef",ref:f},[a(te,{loading:l.value,"onUpdate:loading":r[4]||(r[4]=y=>l.value=y),finished:u.value,onLoad:T,"immediate-check":!1,offset:100,ref_key:"vanListRef",ref:o},{default:F(()=>[t.value.length>0?(ne(!0),fe(ze,{key:0},Tt(t.value,(y,ie)=>(ne(),we(W,{key:y.projectOrderNo||ie,class:"mb-2 shadow-[0_2px_8px_0_rgba(0,0,0,0.04)] rounded-lg bg-white"},{title:F(()=>[x("div",Tn,[x("span",Ln," 项目号: "+R(y.projectOrderNo||"-"),1),a(S,{color:"#1989fa","text-color":"#fff",class:"align-middle ml-0.5 text-[12px] px-[8px] h-2 rounded-lg flex-shrink-0 !bg-[#1989fa] !text-white"},{default:F(()=>[p(" 状态:"+R(y.status||"-"),1)]),_:2},1024)])]),desc:F(()=>{var H;return[x("div",Pn,[x("div",In,[r[7]||(r[7]=x("span",{class:"inline-block min-w-[72px] text-[#888]"},"项目名称：",-1)),x("span",Bn,R(y.projectName||"-"),1)]),x("div",En,[r[8]||(r[8]=x("span",{class:"min-w-[72px] text-[#888]"},"物料：",-1)),x("span",Vn,R(y.goodsName||"-"),1)]),x("div",zn,[r[9]||(r[9]=x("span",{class:"min-w-[72px] text-[#888]"},"发货日期：",-1)),x("span",$n,R(y.actualDepartureTime?k(y.actualDepartureTime):"-"),1)]),x("div",An,[r[10]||(r[10]=x("span",{class:"min-w-[72px] text-[#888]"},"到货日期：",-1)),x("span",Nn,R(y.actualArrivalTime?k(y.actualArrivalTime):"-"),1)]),x("div",Rn,[r[11]||(r[11]=x("span",{class:"min-w-[72px] text-[#888]"},"地址：",-1)),x("span",jn,R(y.consigneeAddress||"-"),1)]),x("div",Mn,[r[12]||(r[12]=x("span",{class:"min-w-[72px] text-[#888]"},"数量：",-1)),x("span",On,R((H=y.allQuantity)!=null?H:"-"),1)])])]}),_:2},1024))),128)):(ne(),we($,{key:1,description:"暂无数据"}))]),_:1},8,["loading","finished"])],512)])}}}),Wn=Pt(Dn,[["__scopeId","data-v-7dd07ec5"]]);export{Wn as default};
